<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>InsertionPanel</title>
    <link rel="stylesheet" type="text/css" href="phoenix/styles/normalize.3.0.2.css" />
    <link rel="stylesheet" type="text/css" href="phoenix/styles/panel.css" />
    <link rel="stylesheet" type="text/css" href="styles/insertpanel.css" />
    <style>
    .insert-container {
        width: 300px;
        border: 1px solid #474747;
        display: block;
    }
    </style>
    <script src="phoenix/scripts/libs/require-2.1.16.js"></script>
    <script src="phoenix/scripts/polyfills/classList.js"></script>
    <script src="phoenix/scripts/polyfills/polyfills.js"></script>
    <script src="scripts/config/Configuration.js"></script>
    <script>
        CKEDITOR_BASEPATH = '/scripts/libs/ckeditor-4.5.9/';
        require.config({
            baseUrl: "/",
            urlArgs: "v5",
            'paths': {
                'customer': 'scripts/customer/elsevier'
            },
            // For developement
            // urlArgs: "bust=" +  (new Date()).getTime()
            'map': {
                '*': {
                    'css': 'scripts/libs/css.js',
                    'ckeditor': 'scripts/libs/ckeditor-4.5.9/ckeditor',
                    'he': 'phoenix/scripts/libs/he-0.5.0',
                    'sax': 'phoenix/scripts/libs/sax-0.6.1',
                    'rangy': 'scripts/libs/rangy-core',
                    'rangyselection': 'scripts/libs/rangy-selectionsaverestore',
                    'uri': 'scripts/libs/uri/uri-1.17.0',
                    'jquery': 'scripts/libs/jquery/jquery-1.10.1.min',
                    'jquery-en-us': 'scripts/libs/jquery/en-us',
                    'pagebreaker': 'pagination/Layout_3g/scripts/PageBreaker',
                    'scripts/polyfills/classList': 'phoenix/scripts/polyfills/classList',
                    'scripts/polyfills/dataset': 'phoenix/scripts/polyfills/dataset',
                    'scripts/polyfills/polyfills': 'phoenix/scripts/polyfills/polyfills',
                    'scripts/polyfills/assign': 'phoenix/scripts/polyfills/assign',
                    'scripts/polyfills/beacon': 'phoenix/scripts/polyfills/beacon',
                    'scripts/polyfills/dialog': 'phoenix/scripts/polyfills/dialog',
                    'scripts/radio': 'phoenix/scripts/radio',
                    'scripts/Helper': 'phoenix/scripts/Helper',
                    'scripts/Request': 'phoenix/scripts/Request',
                    'scripts/RequestBuilder': 'phoenix/scripts/RequestBuilder',
                    'scripts/Panel': 'phoenix/scripts/Panel',
                    'scripts/TabPanel': 'phoenix/scripts/TabPanel',
                    'scripts/TableCharAlign': 'phoenix/scripts/TableCharAlign',
                    'scripts/Logger': 'phoenix/scripts/Logger',
                    'scripts/ServerLogger': 'phoenix/scripts/ServerLogger',
                    'scripts/AbstractMenuItem': 'phoenix/scripts/AbstractMenuItem',
                    'scripts/Annotate': 'phoenix/scripts/Annotate',
                    'scripts/EventBus': 'phoenix/scripts/EventBus',
                    'scripts/ContextualMenu': 'phoenix/scripts/ContextualMenu',
                    'scripts/SelectBox': 'phoenix/scripts/SelectBox',
                    'scripts/DialogPopupPanel': 'scripts/ModalDialog',
                    'scripts/ConfigReader': 'phoenix/scripts/ConfigReader'
                }
            }
        });
    </script>
</head>
<body>
    <div class="insert-container"></div>
    <script>
    window.onload = function () {
        require([
            'scripts/InsertPanel', 'scripts/InsertMenuItem', 'scripts/EventBus',
            'scripts/ConfigReader', 'scripts/RichTextEditor'
        ],
        function(InsertPanel, InsertMenuItem, EventBus, ConfigReader, RTE) {
            var insertPanel1, config = new ConfigReader(window).load();

            EventBus.subscribe('Configuration:Loaded', function () {
                insertPanel1 = new InsertPanel(
                    document.querySelector('.insert-container'), document,
                    window, EventBus
                );
                insertPanel1.render();
                RTE.focus('editor1');
                insertPanel1.setTitle('Insert');
            });
        });
    };
    </script>


</body>
</html>

